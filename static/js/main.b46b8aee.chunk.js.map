{"version":3,"sources":["BarChart.js","LineChart.js","App.js","serviceWorker.js","index.js"],"names":["createChart","chart","Chart","document","getElementById","type","data","labels","datasets","label","backgroundColor","options","legend","display","title","text","compare","a","b","A","moment","date","toDate","B","comparison","example","require","Octokit","octokit","OWNER","REPO","hashes","lineChart","validate","owner","repo","auth","p1","username","check","Promise","resolve","reject","users","getByUsername","then","value","err","val","catch","checkUser","p2","request","console","log","checkRepo","p3","repos","listCommits","checkAuth","all","msgs","errs","Example","props","commits","table","id","CommitTable","useEffect","className","Selected","useState","updateCommits","loaded","updateLoad","forEach","hash","push","sha","finally","commit","author","format","parents","login","files","stats","fill","Message","Button","onClick","load","highlight","key","str","current","style","updateCommit","max","file","changes","cScale","scale","scaleChrome","domain","sort","points","colors","name","length","slice","update","updateChart","map","filename","getCommitData","newHashes","newCommits","oldCommits","oldestParentSha","useDynamicRefs","getRef","setRef","normalizedData","hasOwnProperty","total","dates","Object","keys","updateLineChart","Table","Header","Row","HeaderCell","Body","ref","toString","onMouseEnter","onMouseLeave","Cell","additions","deletions","App","setOwner","setRepo","setAuth","setCheck","error","setError","isError","setIsError","isExample","setIsExample","notSelected","Form","Field","placeholder","onChange","e","target","result","hasError","res","errors","filter","x","message","href","List","as","Item","negative","alignContent","margin","fontSize","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b46b8aee.chunk.js","sourcesContent":["import Chart from 'chart.js';\r\nimport * as scale from 'd3-scale';\r\nimport * as scaleChrome from 'd3-scale-chromatic';\r\n\r\nexport function createChart(chart){\r\n    chart = new Chart(document.getElementById(\"canvas\"), {\r\n      type: 'bar',\r\n      data: {\r\n        labels: null,\r\n        datasets: [\r\n          {\r\n            label: \"Number of changes\",\r\n            backgroundColor: \"#FFFFFF\",\r\n            data: null\r\n          }\r\n        ]\r\n      },\r\n      options: {\r\n        legend: { display: false },\r\n        title: {\r\n          display: true,\r\n          text: 'File Changes'\r\n        }\r\n      }\r\n    });\r\n    return chart;\r\n  }\r\n\r\nexport function clearChart(chart){\r\n  chart.data.labels = []\r\n  chart.data.datasets.forEach((dataset) => {\r\n      dataset.data = [];\r\n  });\r\n  chart.update();\r\n  return chart;\r\n}\r\n  \r\n  \r\nexport function updateChart(data, chart) {\r\n  let max = 0;\r\n  data.forEach((file) => {\r\n    if(file.changes > max) max = file.changes;\r\n  })\r\n  \r\n  var cScale = scale.scaleSequential(scaleChrome.interpolateViridis).domain([0,max]); \r\n  data.sort(function(a,b) {\r\n    return b.changes - a.changes;\r\n  });\r\n  \r\n  let labels = [];\r\n  let points = [];\r\n  let colors = [];\r\n  \r\n  data.forEach(function(file) {\r\n    if(file.name.length > 20){\r\n      labels.push(file.name.slice(file.name.length-20,file.name.length))\r\n    } else {\r\n      labels.push(file.name)\r\n    }\r\n    points.push(file.changes)\r\n    colors.push(cScale(file.changes))\r\n  })\r\n  chart.data.datasets[0].backgroundColor = colors;\r\n  chart.data.datasets[0].data = points;\r\n  chart.data.labels = labels;\r\n  chart.update();\r\n  return chart;\r\n}\r\n\r\n  \r\n  ","import Chart from 'chart.js';\r\nimport * as scale from 'd3-scale';\r\nimport * as scaleChrome from 'd3-scale-chromatic';\r\nimport moment from 'moment';\r\n\r\nexport function createLineChart(chart){\r\n    chart = new Chart(document.getElementById(\"canvas2\"), {\r\n      type: 'line',\r\n      data: {\r\n        labels: null,\r\n        datasets: [\r\n          {\r\n            label: \"Total Changes Per Day\",\r\n            backgroundColor: \"white\",\r\n            data: null,\r\n            fill: false\r\n          }\r\n        ]\r\n      },\r\n      options: {\r\n        legend: { display: false },\r\n        title: {\r\n          display: true,\r\n          text: 'Number of Changes'\r\n        }\r\n      }\r\n    });\r\n    return chart;\r\n}\r\n\r\nexport function clearLineChart(chart){\r\n    chart.data.labels = []\r\n    chart.data.datasets.forEach((dataset) => {\r\n        dataset.data = [];\r\n    });\r\n    chart.update();\r\n    return chart;\r\n}\r\n    \r\nfunction compare(a,b){\r\n    let A = moment(a.date).toDate();\r\n    let B = moment(b.date).toDate();\r\n    let comparison = 0;\r\n    if (A > B){ comparison = 1};\r\n    if (B > A){ comparison = -1};\r\n    return comparison; \r\n}\r\n    \r\nexport function updateLineChart(data, chart) {\r\n    data = data.sort(compare);\r\n    let normalizedData = {}\r\n    data.forEach(function(commit) {\r\n        if(normalizedData.hasOwnProperty(commit.date)){\r\n            normalizedData[commit.date] += commit.stats.total;\r\n        } else {\r\n            normalizedData[commit.date] = commit.stats.total;\r\n        }\r\n    })\r\n    let labels = [];\r\n    let points = [];\r\n    let colors = [];\r\n\r\n    const dates = Object.keys(normalizedData)\r\n    let max = 0;\r\n    for (const date of dates) {\r\n        if(max < normalizedData[date]){\r\n            max = normalizedData[date];\r\n        }\r\n    }\r\n    var cScale = scale.scaleSequential(scaleChrome.interpolateViridis).domain([0,max]); \r\n\r\n    for (const date of dates) {\r\n        labels.push(date)\r\n        points.push(normalizedData[date])\r\n        colors.push(cScale(normalizedData[date]))\r\n    }\r\n\r\n    \r\n    chart.data.datasets[0].backgroundColor = colors;\r\n    chart.data.datasets[0].data = points;\r\n    chart.data.labels = labels;\r\n    chart.update();\r\n    return chart;\r\n}\r\n  \r\n    ","import React, { useState, useEffect } from 'react';\nimport { Table, Form , Button, Message, List } from 'semantic-ui-react';\nimport './App.css';\nimport 'semantic-ui-css/semantic.min.css'\nimport { createChart, updateChart, clearChart} from './BarChart';\nimport { createLineChart, updateLineChart, clearLineChart} from './LineChart';\nimport moment from 'moment';\nimport useDynamicRefs from 'use-dynamic-refs';\nconst example = require('./Example.json');\nconst { Octokit } = require(\"@octokit/rest\");\n\nvar octokit = null\nvar OWNER = null;\nvar REPO = null;\nvar hashes = [];\nvar chart = null;\nvar lineChart = null;\n\nfunction validate(owner, repo, auth){\n  let p1 = checkUser(owner)\n  let p2 = checkRepo(owner, repo)\n  let p3 = checkAuth(owner, repo, auth)\n  let res = Promise.all([p1, p2, p3])\n    .then(msgs =>{\n        console.log(msgs)\n        return msgs\n    })\n    .catch(errs => {\n      console.log(errs)\n      return errs;\n    })\n  return res;\n}\n\nfunction checkRepo(username, repo){\n  let check = new Octokit();\n  let p2 = new Promise((resolve, reject) => \n  check.request(`GET /repos/${username}/${repo}`)\n  .then(() => {\n    resolve({value: true, err: \"\", val: repo, type: \"Repository\"})\n  })\n  .catch(err => {\n    console.log(err)\n    reject({value: false, err: err, val: repo, type: \"Repository\"})\n  })\n  ).catch(err => {\n    return err;\n  })\n  return p2;\n}\n\nfunction checkUser(username){\n  let check = new Octokit();\n  let p1 = new Promise((resolve, reject) => check.users.getByUsername({\n    username,\n  })\n  .then(() => {\n    resolve({value: true, err: \"\", val: username, type: \"Author\"})\n  })\n  .catch(err => {\n    reject({value: false, err: err, val: username, type: \"Author\"})\n  })\n  ).catch(err => {\n    return err;\n  })\n  return p1;\n}\n\nfunction checkAuth(owner, repo ,auth){\n  let check = new Octokit({auth: auth});\n  check.log = console;\n  let p3 = new Promise((resolve, reject) => check.repos.listCommits({\n    owner,\n    repo,\n  })\n  .then(() => {\n    resolve({value: true, err: \"\", val: auth, type: \"Authenicator\"})\n  })\n  .catch(err => {\n    reject({value: false, err: err, val: auth, type: \"Authenicator\"})\n  })\n  ).catch(err => {\n    return err;\n  })\n  return p3;\n}\n\nfunction App(){\n  let [owner, setOwner] = useState('');\n  let [repo, setRepo] = useState('');\n  let [auth, setAuth] = useState('');\n  let [check, setCheck] = useState(false);\n  let [error, setError] = useState(null);\n  let [isError, setIsError] = useState(false);\n  let [isExample, setIsExample] = useState(false);\n\n  let notSelected = (\n    <div id=\"info\">\n      <Form>\n        <Message>\n        <Form.Field>\n          <label>Author</label>\n          <input placeholder='Ex: facebook' onChange={(e) => setOwner(e.target.value)}/>\n        </Form.Field>\n        <Form.Field>\n          <label>Repository</label>\n          <input placeholder='Ex: react' onChange={(e) => setRepo(e.target.value)}/>\n        </Form.Field>\n        <Form.Field>\n          <label>Authenicator</label>\n          <input placeholder='Ex: 0e181d0dffd8dd0e6359d......' onChange={(e) => setAuth(e.target.value)}/>\n        </Form.Field>\n        <Button onClick={async() => {\n          let result = await validate(owner, repo, auth);\n          let hasError = false;\n          console.log(result)\n          result.forEach(res => {\n            if(res.value == false){\n              hasError = true;\n            }\n          })\n\n          let errors = result.filter(x => x.value == false).map(res => \n            <div>\n              {res.type + \": \" + res.err.message}\n              <br></br>\n            </div> \n          )\n          if(!hasError){\n            OWNER = result[0].val\n            REPO = result[1].val\n            let auth = result[2].val\n            octokit = new Octokit({auth: auth});\n            setCheck(true) \n            setIsError(false)\n          } else {\n            setError(errors)\n            setIsError(true)\n          } \n        }}>Submit</Button>\n        </Message>\n        <Message>\n        <Message.Header>How to get authenticated.</Message.Header>\n        Unfortunately Github limits the amount of API calls from unauthenticated users so in order for this application to work correctly you need your PAT (Personal Access Token)\n        <br></br>\n        <a href=\"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token\">\n          Github Documentation\n        </a>\n        <br></br>\n        Perimissions Required:\n        <List as='ul'>\n        <List.Item as='li'>repo:status</List.Item>\n        <List.Item as='li'>public_repo</List.Item>\n        </List>\n        </Message>\n        {isError ?\n        <Message negative>\n        <Message.Header negative>Errors</Message.Header>\n        <p>{error}</p>\n        </Message>\n       : null}\n       <Message>\n         Don't wanna make an authenicator just to try it out? Here is an example with just a click of a button!\n         <br></br>\n         <Button onClick={() => setIsExample(true)}>Example</Button>\n       </Message>\n      </Form>\n    </div>\n\n  )\n  return (\n    <div>\n      <h1 className=\"title\">Repository Viewer</h1>\n      {check ? <Selected/> : null}\n      {isExample ? \n      <Button style={{display: 'flex', alignContent: 'center', margin: \"auto\", fontSize: \"28px\"}} onClick={() => setIsExample(false)}>Back</Button>\n      : null}\n      {isExample ? <Example /> : null}\n      {(check == true || isExample == true) ? null : notSelected}\n    </div>\n\n  )\n}\n\nfunction Example(props){\n  let commits = example;\n  let table = \n  <div id=\"table\">\n    <CommitTable commits={commits}/>\n  </div>\n\n  useEffect(() => {\n    chart = createChart(chart);\n    return () => {\n    }\n  }, [])\n\n  return (\n    <div className=\"mainContainer\">\n      {table}\n      <div>\n        <canvas id=\"canvas\"></canvas>\n        <canvas id=\"canvas2\"></canvas>\n      </div>\n    </div>\n  );\n}\n\n\nfunction Selected() {\n  let [commits, updateCommits] = useState([]);\n  let [loaded, updateLoad] = useState(false);\n\n  useEffect(() => {\n    let owner = OWNER;\n    let repo = REPO;\n    octokit.repos.listCommits({\n      owner,\n      repo,\n    })\n    .then(({data}) => {\n      data.forEach(function(hash){\n        hashes.push(hash.sha)\n      })\n    })\n    .finally(() => {\n       hashes.forEach(function(hash){\n        octokit.request(`GET /repos/${owner}/${repo}/commits/${hash}`)\n        .then(({data}) => {\n          updateCommits(commits => [...commits, {date: moment(data.commit.author.date).format(\"MMM DD YYYY\"), parents: data.parents, author: data.author.login,files:data.files, stats:data.stats}])\n        })\n        .finally(() => {\n          updateLoad(true)\n        })\n        .catch(err => {\n          console.log(err)\n        })\n      })\n    })\n\n    chart = createChart(chart);\n    lineChart = createLineChart(lineChart);\n    return () => {\n      \n    }\n  }, [])\n\n  let table = \n    <div id=\"table\">\n      <CommitTable commits={commits}/>\n    </div>\n\n  return (\n    <div className=\"mainContainer\">\n      {loaded ? table : null}\n      <div>\n        <canvas id=\"canvas\"></canvas>\n        <Message>\n          <Button onClick={() => load(commits)}>Load More</Button>\n          <Button onClick={() => load(commits)}>Sort</Button>\n        </Message>\n        <canvas id=\"canvas2\"></canvas>\n      </div>\n    </div>\n  );\n}\n\n\nfunction highlight(key, str){\n  if(str == \"In\"){\n    key.current.style.backgroundColor = \"lightgray\";\n  } else {\n    key.current.style.backgroundColor = \"white\";\n  }\n}\n\nfunction updateCommit(commit, key){\n  let data = commit.files.map((file) => {\n    return {name: file.filename, changes: file.changes}\n  })\n  updateChart(data, chart)\n\n  if(key.current.style.backgroundColor == \"gray\"){\n    key.current.style.backgroundColor = \"darkgray\";\n  } else {\n    key.current.style.backgroundColor = \"gray\";\n  }\n}\n\nfunction getCommitData(sha){\n  let owner = OWNER;\n  let repo = REPO;\n  let newHashes = [];\n  let newCommits = [];\n  let a = octokit.repos.listCommits({\n    owner,\n    repo,\n    sha\n  })\n  .then(({data}) => {\n    data.forEach(function(hash){\n      newHashes.push(hash.sha)\n    })\n  })\n  .finally(() => {\n     newHashes.forEach(function(hash){\n      octokit.request(`GET /repos/${owner}/${repo}/commits/${hash}`)\n      .then(({data}) => {\n        return newCommits = [...newCommits, {date: moment(data.commit.author.date).format(\"MMM Do YY\"), parents: data.parents, author: data.author.login,files:data.files, stats:data.stats}]\n      })\n      .catch(err => {\n        console.log(err)\n      })\n    })\n  })\n\n  return a;\n}\n\nasync function load(oldCommits){\n  let oldestParentSha = oldCommits[oldCommits.length-1].parents[0].sha;\n  let newCommits = await getCommitData(oldestParentSha)\n  //console.log(newCommits)\n}\n\nfunction CommitTable(props) {\n  let [getRef, setRef] = useDynamicRefs();\n  lineChart = updateLineChart(props.commits, lineChart);\n  return (\n    <Table>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Author</Table.HeaderCell>\n          <Table.HeaderCell>Date</Table.HeaderCell>\n          <Table.HeaderCell>Changes</Table.HeaderCell>\n          <Table.HeaderCell>Additions</Table.HeaderCell>\n          <Table.HeaderCell>Deletions</Table.HeaderCell>\n          <Table.HeaderCell>Files</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n\n      <Table.Body>\n      {props.commits.map((commit, key) => \n          <tr key={key} ref={setRef(key.toString())} \n            onMouseEnter={() => highlight(getRef(key.toString()), \"In\")} \n            onMouseLeave={() => highlight(getRef(key.toString()), \"Out\")}\n            onClick={() => updateCommit(commit, getRef(key.toString()))}>\n            <Table.Cell>{commit.author}</Table.Cell>\n            <Table.Cell>{commit.date}</Table.Cell>\n            <Table.Cell>{commit.stats.total}</Table.Cell>\n            <Table.Cell>{commit.stats.additions}</Table.Cell>\n            <Table.Cell>{commit.stats.deletions}</Table.Cell>\n            <Table.Cell>{commit.files.length}</Table.Cell>\n          </tr>\n      )}\n\n    </Table.Body>\n    </Table>\n  )\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}